<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <title>디자인통역사_짭짤한 맛 과제_신상은(9기)</title>

        <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
                crossorigin="anonymous"></script>

        <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">

        <style>

            * {
                font-family: 'Do Hyeon', sans-serif;
            }

            /*메인이미지 스타일*/
            .main_image {
                background-color: green;

                width: 500px;
                height: 300px;

                margin-top: 50px;

                /*오프라인 이미지 불러오는 방법*/
                /*background-image: url("img.jpg");*/
                background-image: url("https://d2v80xjmx68n4w.cloudfront.net/gigs/srovr1586423263.jpg");
                background-position: center;
                background-size: cover;
            }

            /*span으로 구분한 부분 스타일*/
            .price {
                font-size: 20px;
                font: bold;
            }

            /*상세설명 부분 스타일*/
            .desc {
                width: 500px;
                margin-top: 20px;
                margin-bottom: 20px;
            }

            /*주문박스 전체 스타일*/
            .order-box {
                width: 500px;
            }

            /*주문하기 버튼 스타일*/
            .button {
                margin-top: 15px;
                margin-bottom: 15px;
                text-align: center;
            }

            /*페이지 전체 스타일*/
            .wrap {
                margin: auto;
                width: 500px;
            }

            .orders {
                margin: auto;
                width: 500px;
            }

            .dollarButton {
                margin-bottom: 20px;
            }

            .exchange-color {
                color: blue;
            }

        </style>


        <!--주문하기, 주문정보 삭제 버튼 함수-->
        <script type="text/javascript">

            function isCellPhone(p) {
                var regExp = /^(01[016789]{1}|02|0[3-9]{1}[0-9]{1})[-][0-9]{3,4}[-][0-9]{4}$/;
                return regExp.test(p);
            }

            function order() {

                //주문란 속성
                let name = $('#order_name').val();
                let count = $('#order_count').val();
                let address = $('#order_address').val();
                let phone = $('#order_phone').val();
                let explain = $('#order_explain').val();

                //주문란 및 주문버튼
                if (name == '') {
                    alert('이름을 입력해주세요')
                    $('#order_name').focus()
                    return
                } else if (count == '') {
                    alert('상품유형을 선택해주세요')
                    $('#order_count').focus()
                    return
                } else if (address == '') {
                    alert('주소를 입력해주세요')
                    $('#order_address').focus()
                    return
                } else if (phone == '') {
                    alert('휴대폰번호를 입력해주세요')
                    $('#order_phone').focus()
                    return
                } else if (!isCellPhone(phone)) {
                    alert('휴대폰번호 입력 형식이 틀립니다. \n 010-0000-0000으로 입력해주세요')
                    return
                } else if (explain == '') {
                    alert('상세설명을 입력해주세요')
                    $('#order_explain').focus()
                    return
                } else {
                    alert('주문을 완료했습니다!')
                }
                let tempHtml = `<tr>
                        <td>${name}</td>
                        <td>${count}</td>
                        <td>${address}</td>
                        <td>${phone}</td>
                        <td>${explain}</td>
                    </tr>`

                $('#orders-box').append(tempHtml)
            }

            //주문취소 버튼
            function cancel() {
                $('#orders-box').empty();
                alert('주문이 취소되었습니다')
            }

            function update() {
                $('#exchange-rate').empty();
                $.ajax({
                    type: "GET", // GET 방식으로 요청한다.
                    url: "https://api.manana.kr/exchange/rate.json",
                    data: {}, // 요청하면서 함께 줄 데이터 (GET 요청시엔 비워두세요)
                    success: function (response) { // 서버에서 준 결과를 response라는 변수에 담음
                        for (let i = 0; i < response.length; i++) {
                            if (response[i]['name'] == 'USDKRW=X') {
                                let Rate = response[i]['rate'];
                                let exchangeRateHtml = `<span>${Rate}</span>`
                                $('#exchange-rate').append(exchangeRateHtml)
                            }
                        }
                    }
                })
            }


        </script>

    </head>


    <body>

        <!--메인이미지 부분-->
        <div class="wrap">
            <div class="main_image"></div>

            <!--상세설명 부분-->
            <div class="desc">
                <h3>로고 디자인 해드립니다! <span class="price">가격 : 상품종류탭 참고</span></h3>
                <p>여러분, 직접 운영하실 사업의 가치가 담겨진, 꿈꿔왔지만 머릿 속에서 맴도는 디자인을 현실화하고 싶으신가요?</p>
                <p>아니면, 생전 처음 만나는 디자이너에게 그저 예쁘게 보이는 디자인을 요청하여 일방적으로 받고 싶으신가요?</p>
            </div>


            <!--이 부분도 다시하기-->
            <!--달러 환율-->
            <div class="dollarButton">
                <button onclick="update()" type="button" class="btn btn-primary">업데이트</button>
                달러-원 환율: <span id="exchange-rate" class="exchange-color">현재 원달러환율은?</span>
            </div>


            <div class="order-box">
                <!--주문자 성함 박스-->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">주문자 성함</span>
                    </div>
                    <input id="order_name" type="text" class="form-control" aria-label="Sizing example input"
                           aria-describedby="inputGroup-sizing-default" required placeholder="예. 홍길동">
                </div>

                <!--상품유형 박스-->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="inputGroupSelect01">상품유형</label>
                    </div>
                    <select id="order_count" class="custom-select">
                        <option selected value="">상품유형을 선택하세요</option>
                        <option value="스탠다드형(8만원)">스탠다드형(8만원)</option>
                        <option value="디럭스형(18만원)">디럭스형(18만원)</option>
                        <option value="프리미엄형(22만원)">프리미엄형(22만원)</option>
                    </select>
                </div>

                <!--이메일 주소 박스-->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-default">이메일 주소</span>
                    </div>
                    <input id="order_address" type="text" class="form-control" aria-label="Sizing example input"
                           aria-describedby="inputGroup-sizing-default" required placeholder="예. honggildong@gmail.com">
                </div>

                <!--연락처 박스-->
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-default">연락처</span>
                    </div>
                    <input id="order_phone" type="text" class="form-control" aria-label="Sizing example input"
                           aria-describedby="inputGroup-sizing-default" required placeholder="예. 010-1234-5678">
                </div>

                <!--원하는 로고 상세설명 박스-->
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">원하는 로고 상세설명</span>
                    </div>
                    <textarea id="order_explain" class="form-control" aria-label="With textarea" required
                              placeholder="예. 폰트는 도현체, 색상은 전체적으로 파스텔톤이었으면 좋겠어요."></textarea>
                </div>

            </div>

            <div class="button">
                <button onclick="order()" type="button" class="btn btn-primary">주문하기</button>
                <button onclick="cancel()" type="button" class="btn btn-primary">주문취소</button>
            </div>

        </div>

        <!--페이지 아래에 새롭게 추가되는 주문정보-->
        <div class="orders">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">이름</th>
                        <th scope="col">상품유형</th>
                        <th scope="col">이메일 주소</th>
                        <th scope="col">연락처</th>
                        <th scope="col">상세설명</th>
                    </tr>
                </thead>
                <tbody id="orders-box">
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>

                </tbody>
            </table>
        </div>

    </body>

</html>